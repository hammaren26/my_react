{"version":3,"sources":["webpack:///./src/my_components/Profile/My posts/MyPosts.module.scss?724f","my_components/Profile/My posts/MyPosts.module.scss","my_components/Profile/My posts/Post/Post.module.css","my_components/Profile/ProfileInfo/ProfileStatusWithHooks.js","my_components/Profile/ProfileInfo/ProfileInfo.js","my_components/Profile/My posts/Post/Post.js","Utils/Validators/validator.js","my_components/common/FormsControls/FormsControls.js","my_components/Profile/My posts/MyPosts.js","my_components/Profile/My posts/MyPostsContainer.js","my_components/Profile/Profile.js","my_components/Profile/ProfileConatainer.js"],"names":["api","content","__esModule","default","module","i","options","exports","locals","___CSS_LOADER_EXPORT___","push","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","autoFocus","className","onBlur","onChange","e","currentTarget","value","onDoubleClick","ProfileInfo","profile","updateStatus","src","photos","large","alt","Preloader","Post","message","likes","requiredField","Textarea","input","AddNewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","name","component","validate","MyPosts","React","memo","posts","postsData","map","p","item","likesCount","console","log","s","addPost","newPostText","DialogsContainer","connect","state","profilePage","dispatch","addPostActionCreator","Profile","MyPostsContainer","ProfileContainer","userId","this","match","params","history","getProfile","getStatus","Component","compose","userProfile","userStatus","withRouter"],"mappings":"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","file":"static/js/3.594a99a7.chunk.js","sourcesContent":["var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./MyPosts.module.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._3pfw47Hg17p1EyBRMw4u9W{border:1px solid black}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/my_components/Profile/My posts/MyPosts.module.scss\"],\"names\":[],\"mappings\":\"AAAA,yBACE,sBAAuB\",\"sourcesContent\":[\".posts {\\r\\n  border: 1px solid black;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"posts\": \"_3pfw47Hg17p1EyBRMw4u9W\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1OPie\",\"active\":\"Post_active__3hUJB\"};","import React, {useEffect, useState} from 'react'\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n    \r\n    useEffect( () => {\r\n        setStatus(props.status)\r\n    }, [props.status] );\r\n\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        // props.updateStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode\r\n                ? <span onDoubleClick={activateEditMode}>\r\n                    Статус: {props.status || '-------'}\r\n                  </span>\r\n                : <div>\r\n                    <input\r\n                        autoFocus={true}\r\n                        className='test'\r\n                        onBlur={deactivateEditMode}\r\n                        onChange={onStatusChange}\r\n                        value={status}\r\n                    />\r\n                </div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react'\r\nimport Preloader from \"../../common/preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\n\r\nexport default function ProfileInfo(props) {\r\n    let {\r\n        profile,\r\n        status,\r\n        updateStatus\r\n    } = props;\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div className='content__head'>\r\n            <img src={profile.photos.large}\r\n                 alt=\"placeholder\"\r\n            />\r\n            <ProfileStatusWithHooks\r\n                status={status}\r\n                updateStatus={updateStatus}\r\n            />\r\n        </div>\r\n    );\r\n}","import React from 'react'\r\n// import {item, active} from './Post.module.css'\r\n\r\nexport default function Post(props) {\r\n    return (\r\n        <div className={props.className}>\r\n            <span>{props.message}</span>\r\n            <span>Likes: {props.likes}</span>\r\n        </div>\r\n    );\r\n}","export const requiredField = value => {\r\n    if (value) {\r\n        return undefined;\r\n    }\r\n    return 'Filed is required'\r\n}\r\n\r\nexport const maxLength30 = value => {\r\n    if (value && value.length > 30) {\r\n        return 'Max length is 30 symbols';\r\n    }\r\n    return 'Filed is required'\r\n}\r\n","\r\nexport const Textarea = ({ input }) => {\r\n    // debugger\r\n    return (\r\n        <textarea {...input}/>\r\n    )\r\n}","import React from 'react';\r\nimport s from './MyPosts.module.scss';\r\nimport Post from \"./Post/Post\";\r\nimport {item} from './Post/Post.module.css';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {requiredField} from \"../../../Utils/Validators/validator\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\n\r\n// const maxLength10 = maxLengthCreator(10);\r\n\r\nlet AddNewPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field\r\n                    name='newPostText'\r\n                    component={Textarea}\r\n                    validate={[requiredField]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button>Add Post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nlet AddNewPostFormRedux = reduxForm({\r\n    form: 'ProfileAddNewPostForm'\r\n})(AddNewPostForm);\r\n\r\n// export default class MyPosts extends React.Component {\r\n//\r\n//     componentDidMount() {\r\n//         setTimeout(() => {\r\n//             this.setState({a: 12})\r\n//         }, 3000)\r\n//     }\r\n//\r\n//     // shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n//     //     return nextProps !== this.props || nextState !== this.state;\r\n//     // }\r\n//\r\n//     render() {\r\n//         let posts = this.props.postsData.map(p => <Post message={p.message} className={`${item}`}\r\n//                                                         likes={p.likesCount}/>);\r\n//\r\n//         let onAddPost = (value) => {\r\n//             this.props.addPost(value.newPostText);\r\n//         }\r\n//\r\n//         console.log('render');\r\n//\r\n//         return (\r\n//             <div className={s.posts}>\r\n//                 <h3>My posts:</h3>\r\n//                 <AddNewPostFormRedux onSubmit={onAddPost}/>\r\n//                 {posts}\r\n//             </div>\r\n//         );\r\n//     }\r\n// }\r\n\r\n\r\nconst MyPosts = React.memo((props) => {\r\n    let posts = props.postsData.map(p => <Post message={p.message} className={`${item}`}\r\n                                               likes={p.likesCount}/>);\r\n\r\n    let onAddPost = (value) => {\r\n        props.addPost(value.newPostText);\r\n    }\r\n\r\n    console.log('render');\r\n\r\n    return (\r\n        <div className={s.posts}>\r\n            <h3>My posts:</h3>\r\n            <AddNewPostFormRedux onSubmit={onAddPost}/>\r\n            {posts}\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default MyPosts;","import {addPostActionCreator} from \"../../../Redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n// export default function MyPostsContainer() {\r\n//\r\n//     return (\r\n//         <StoreContext.Consumer>\r\n//         {\r\n//             store => {\r\n//                 let state = store.getState() ;\r\n//                 let addPost = () => {\r\n//                     store.dispatch(addPostActionCreator());\r\n//                 }\r\n//\r\n//                 let updateNewPostText = (text) => {\r\n//                     store.dispatch(updateNewPostTextActionCreator(text));\r\n//                 }\r\n//                 return (\r\n//                     <MyPosts\r\n//                         updateNewPostText={updateNewPostText}\r\n//                         addPost={addPost}\r\n//                         postsData={state.profilePage.postsData}\r\n//                         newPostText={state.profilePage.newPostText}\r\n//                     />\r\n//                 )\r\n//             }\r\n//         }\r\n//         </StoreContext.Consumer>\r\n//     );\r\n// }\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        postsData: state.profilePage.postsData,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostActionCreator(newPostText));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default DialogsContainer;","import React from 'react'\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./My posts/MyPostsContainer\";\r\n\r\n\r\nexport default function Profile(props) {\r\n    return (\r\n        <div>\r\n            <ProfileInfo\r\n                profile={props.profile}\r\n                status={props.status}\r\n                updateStatus={props.updateStatus}\r\n            />\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n}","import React, {Component} from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getProfile, getStatus, updateStatus} from \"../../Redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = 15043;\r\n\r\n            if (!userId) {\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        this.props.getProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}/>\r\n        );\r\n    }\r\n}\r\n\r\n// let AuthRedirectComponent = (props) => {\r\n//     if (!this.props.isAuth) {\r\n//         return (\r\n//             <Redirect to={\"/login\"}/>\r\n//         )\r\n//     }\r\n//     return <ProfileContainer {...props}/>\r\n// }\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.userProfile,\r\n    status: state.profilePage.userStatus\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getProfile, getStatus, updateStatus}),\r\n    withRouter\r\n    // withAuthRedirect\r\n)(ProfileContainer);\r\n\r\n// let AuthRedirectComponent = withAuthRedirect(ProfileContainer);\r\n// let WithUrlDataContainerComponent = withRouter(AuthRedirectComponent);\r\n// export default connect(mapStateToProps, {getProfile})(WithUrlDataContainerComponent);"],"sourceRoot":""}